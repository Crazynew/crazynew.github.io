---

layout: post
category: "Java"
title:  "疯狂java讲义学习——流程控制与数组"
tags: [疯狂java]

---

## 程序结构

**顺序结构、分支结构、循环结构**

_分支结构Tips_

* 保留花括号会减少发生错误的可能；
* 使用if...else语句时，一定要先处理包含范围更小的情况；
* switch语句后面的控制表达式的数据类型只能是byte、char、short、int四种整数类型，枚举类型和java.lang.String类型（从java7才允许，但不能是StringBuffer或StringBuilder这两种字符串类型），不能是boolean类型
* Java的switch语句允许case后代码块没有break;语句，但这种做法可能引入一个陷阱

_循环结构Tips_

* while循环的循环条件后紧跟一个分号，例如：while(count < 10); 将会造成死循环
* 与while循环不同的是，do while循环的循环条件后必须有一个分号，表明循环结束；同时，do while循环的循环体至少执行一次
* 大部分情况下，for循环可以代替while循环、do while循环
* for循环中，如果需要在初始化表达式中声明多个变量，这些变量应该具有相同的数据类型
* 建议不要在循环体内修改循环变量（也叫循环计数器）的值。否则会增加程序出错的可能性
* 若程序真的需要访问、修改循环变量的值，建议重新定义一个临时变量
* break用于结束其所在循环，continue用于忽略本次循环剩下语句
* java中的标签只有放在循环语句之前才有作用，主要用于控制循环结构（配合break或continue使用）
* return用于结束方法

## 数组类型
数组特点：

* 其只能存储一种数据类型的数据
* 数组的长度不可改变
* 数组本身是一种引用类型

##### 定义数组

Java语言支持两种愈发格式定义数组：

* type[] arrayName; (建议使用)
* type arrayName[];

_Tips:_

1. 定义数组时不能指定数组的长度；
2. 只有对数组进行初始化后才可以使用；

##### 初始化数组
初始化：即为数组的数组元素分配内存空间，并为每个数组元素赋初值（只要为数组元素分配了内存空间，数组元素就具有了初始值。初始值的获得有两种形式：一种由系统自动分配，另一种由程序猿指定）

初始化方式：

1. 静态初始化：初始化时由程序猿显式指定每个数组元素的初始值，由系统决定数组长度；

> arrayName = new Type[]{element1,element2,element3 ...}
> 
> type[] arrayName = {element1,element2,element3 ...} **[只有在定义数组的同时执行数组初始化才支持使用简化的静态初始化]** 

2. 动态初始化：初始化时程序猿只指定数组长度，由系统为数组元素分配初始化值；

> arrayName = new type[length];

##### 使用数组

数组最常用的便是访问数组元素**[注意避免越界异常问题]**，包括对数组元素进行赋值和取出数组元素的值。

访问数组元素方式：

1. 利用数组提供的length属性，for循环遍历数组元素；
2. foreach循环（Java 5之后提供的）

<code>
  <pre>
   foreach(type val : array | collection)
   {
       //val自动迭代访问每个元素...
   }
  </pre>
</code>
> 使用foreach循环迭代数组元素时，并不能改变数组元素的值，因此不要对foreach的循环变量进行赋值。

## 深入数组
#####内存中的数组
![数组内存示意图](http://i4.tietuku.com/4e67568c669fe3c0.png)

_Tips:_

1. 定义并初始化一个数组后，在内存中分配了两个空间，一个用于存放数组的引用变量，另一个用于存放数组本身
2. 一个数组分成两个部分：数组引用（代码中定义的数组引用变量） + 实际的数组对象（堆内存里运行的）
3. java语言提供了支持多维数组的语法，但是仍然可以说没有多维数组（如果从数组底层的运行机制上看），多维可以拆分成一维...
4. Java8中增强的工具类：Arrays,掌握其常用的static修饰的方法，可以直接操作数组。



